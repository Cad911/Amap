// Generated by CoffeeScript 1.2.1-pre
(function() {

  $(document).ready(function() {
    var form_se_connecter, form_sinscrire, message_information;
    message_information = {
      message_success: function(id, titre, message) {
        var div_message;
        div_message = '<div class="alert alert-success" style="display:block;"><a class="close" data-dismiss="alert">x</a>';
        if (titre !== "") div_message += "<h4> " + titre + " </h4>";
        if (message !== "") div_message += "<p> " + message + " </p>";
        div_message += "</div>";
        return $("#" + id).after(div_message);
      },
      message_warning: function(id, titre, message) {
        var div_message;
        div_message = '<div class="alert alert-warning" style="display:block;"><a class="close" data-dismiss="alert">x</a>';
        if (titre !== "") div_message += "<h4> " + titre + " </h4>";
        if (message !== "") div_message += "<p> " + message + " </p>";
        div_message += "</div>";
        return $("#" + id).after(div_message);
      },
      message_error: function(id, titre, message) {
        var div_message;
        div_message = '<div class="alert alert-error" style="display:block;"><a class="close" data-dismiss="alert">x</a>';
        if (titre !== "") div_message += "<h4> " + titre + " </h4>";
        if (message !== "") div_message += "<p> " + message + " </p>";
        div_message += "</div>";
        return $("#" + id).after(div_message);
      }
    };
    form_se_connecter = function() {
      $('#form_se_connecter').bind('ajax:success', function(data, response) {
        console.log(data);
        return message_information.message_success("form_se_connecter", "Success", "Conexion réussi");
      });
      return $('#form_se_connecter').bind('ajax:error', function(data, response) {
        console.log(data);
        console.log(response);
        return message_information.message_error("form_se_connecter", "Erreur", response.responseText);
      });
    };
    form_sinscrire = {
      ajax_formulaire: function() {
        $('#form_sinscrire').bind('ajax:success', function(data, response) {
          console.log(data);
          return message_information.message_success("form_sinscrire", "Success", "Inscription réussi! Veuillez vous connectez maintenant");
        });
        return $('#form_sinscrire').bind('ajax:error', function(data, response) {
          console.log(data);
          console.log(response);
          return message_information.message_error("form_sinscrire", "Erreur", response.responseText);
        });
      },
      form_event: function() {
        $('#form_sinscrire input#client_password_confirmation').bind('change', function() {
          return form_sinscrire.verif_password();
        });
        return $('#form_sinscrire input#client_email').bind('change', function() {
          return form_sinscrire.email_existant();
        });
      },
      email_existant: function() {},
      verif_password: function() {
        var password, password_confirmation;
        password = $('#form_sinscrire input#client_password').val();
        password_confirmation = $('#form_sinscrire input#client_password_confirmation').val();
        if (password === password_confirmation) {
          return message_information.message_success("form_sinscrire #client_password", "", "Mot de passe identique");
        } else {
          message_information.message_warning("form_sinscrire #client_password", "Erreur", "Mot de passe different");
          return console.log("client_password Erreur Mot de passe different");
        }
      }
    };
    form_se_connecter();
    form_sinscrire.ajax_formulaire();
    return form_sinscrire.form_event();
  });

}).call(this);
