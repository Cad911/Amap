// Generated by CoffeeScript 1.2.1-pre
(function() {

  window.div_state = {
    div_success: function(element, message) {
      div_state.remove_class(element, 'warning', 'error');
      element.parent().parent().addClass('success');
      return div_state.write_message(element, message);
    },
    div_warning: function(element, message) {
      div_state.remove_class(element, 'success', 'error');
      element.parent().parent().addClass('warning');
      return div_state.write_message(element, message);
    },
    div_error: function(element, message) {
      div_state.remove_class(element, 'success', 'warning');
      element.parent().parent().addClass('error');
      return div_state.write_message(element, message);
    },
    remove_class: function(element, class1, class2) {
      element.parent().parent().removeClass(class1);
      return element.parent().parent().removeClass(class2);
    },
    write_message: function(element, message) {
      if (element.next('.help-inline').length > 0) {
        return element.next('.help-inline').text(message);
      } else {
        return element.after('<span class="help-inline">' + message + '</span>');
      }
    }
  };

  window.message_information = {
    content_message: function(id, titre, message, time, type) {
      var a, div, strong;
      div = $(document.createElement('div'));
      div.addClass('alert alert-' + type);
      div.css('display', 'block');
      a = $(document.createElement('a'));
      a.addClass('close');
      a.attr('data-dismiss', 'alert');
      a.text('x');
      div.append(a);
      if (titre !== "") {
        strong = $(document.createElement('strong'));
        strong.text(titre);
        div.append(strong);
      }
      if (message !== "") div.append(message);
      $("" + id).after(div);
      if (time !== 0) {
        return setTimeout(message_information.hide_message, time, div);
      }
    },
    hide_message: function(div) {
      return div.animate({
        opacity: 0
      }, {
        duration: 1000,
        complete: function() {
          return $(this).remove();
        }
      });
    },
    message_success: function(id, titre, message, time) {
      if (time == null) time = 0;
      return message_information.content_message(id, titre, message, time, 'success');
    },
    message_warning: function(id, titre, message, time) {
      if (time == null) time = 0;
      return message_information.content_message(id, titre, message, time, 'warning');
    },
    message_error: function(id, titre, message, time) {
      if (time == null) time = 0;
      return message_information.content_message(id, titre, message, time, 'error');
    }
  };

}).call(this);
