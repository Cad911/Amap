// Generated by CoffeeScript 1.2.1-pre
(function() {
  var FormulaireSeConnecter;

  FormulaireSeConnecter = (function() {

    FormulaireSeConnecter.name = 'FormulaireSeConnecter';

    function FormulaireSeConnecter(id_form, id_button_submit) {
      this.id_form = id_form;
      this.id_button_submit = id_button_submit;
      this.ajax_formulaire();
      this.event_form();
    }

    FormulaireSeConnecter.prototype.ajax_formulaire = function() {
      var that;
      that = this;
      $(this.id_form).bind('ajax:success', function(data, response) {
        lightbox_connexion.link_top(response);
        lightbox_connexion.hide();
        light_box_information.title_header('Success');
        light_box_information.title_content('Connexion rï¿½ussi');
        light_box_information.text_content('Bonjour ' + response['user']['prenom']);
        return light_box_information.show();
      });
      return $(this.id_form).bind('ajax:error', function(data, response) {
        return console.log('test');
      });
    };

    FormulaireSeConnecter.prototype.extract_error = function(error, text_error) {
      var champ, type_erreur;
      for (champ in error) {
        type_erreur = error[champ];
        if (typeof type_erreur === "array") {
          light_box_form_inscription.extract_error(type_erreur, text_error);
        } else {
          text_error += "<br/><strong> " + champ + "</strong> " + type_erreur;
        }
      }
      return text_error;
    };

    FormulaireSeConnecter.prototype.event_form = function() {
      var that;
      that = this;
      return $(this.id_button_submit).bind('click', function() {
        return $(that.id_form).submit();
      });
    };

    FormulaireSeConnecter.prototype.show = function() {
      return $(this.id_form).css('display', 'block');
    };

    FormulaireSeConnecter.prototype.hide = function() {
      return $(this.id_form).css('display', 'none');
    };

    return FormulaireSeConnecter;

  })();

}).call(this);
