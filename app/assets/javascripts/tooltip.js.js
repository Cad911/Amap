// Generated by CoffeeScript 1.2.1-pre
(function() {

  $(document).ready(function() {
    return jQuery.fn.tool_tip = function(timeout) {
      var test, tooltip;
      if (timeout == null) timeout = 0;
      test = 'test';
      this.each(function() {
        if ($(this).attr('title') !== '' && $(this).attr('title') !== void 0) {} else {
          $(this).attr('title', 'titre');
        }
        $(this).bind('mouseover', function() {
          var my_tooltip, tooltip_body, tooltip_fleche;
          my_tooltip = $(document.createElement('div'));
          my_tooltip.addClass('my_tooltip');
          tooltip_body = $(document.createElement('div'));
          tooltip_body.addClass('tooltip_body');
          tooltip_fleche = $(document.createElement('div'));
          tooltip_fleche.addClass('tooltip_fleche');
          my_tooltip.append(tooltip_body);
          my_tooltip.append(tooltip_fleche);
          tooltip_body.text($(this).attr('title'));
          if (timeout === 0) {
            return tooltip.generate(this);
          } else {
            return tooltip.generate_latence(this, timeout);
          }
        });
        return $(this).bind('mouseout', function() {});
      });
      return tooltip = {
        the_timeout: false,
        generate_latence: function(element, timeout) {
          return tooltip.the_timeout = setTimeout(tooltip.generate, timeout, element);
        },
        generate: function(element) {
          var my_tooltip, offset, position_left, position_top, tooltip_body, tooltip_fleche;
          my_tooltip = $(document.createElement('div'));
          my_tooltip.addClass('my_tooltip');
          tooltip_body = $(document.createElement('div'));
          tooltip_body.addClass('tooltip_body');
          tooltip_fleche = $(document.createElement('div'));
          tooltip_fleche.addClass('tooltip_fleche');
          my_tooltip.append(tooltip_body);
          my_tooltip.append(tooltip_fleche);
          tooltip_body.text($(element).attr('title'));
          $('body').append(my_tooltip);
          offset = $(element).offset();
          position_left = offset.left;
          position_top = offset.top;
          console.log(position_left + ' ' + offset.top);
          my_tooltip.css({
            'left': position_left,
            'top': position_top - 5,
            'opacity': 0
          });
          return my_tooltip.animate({
            'opacity': 1,
            'top': position_top
          }, 500);
        }
      };
    };
  });

}).call(this);
