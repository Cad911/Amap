(function(){jQuery.fn.tool_tip=function(e){var t,n;return e==null&&(e=0),t="test",this.each(function(){return($(this).attr("tool_tip")===""||$(this).attr("tool_tip")===void 0)&&$(this).attr("tool_tip","tool_tip"),$(this).on("mouseover",function(){return e===0?n.generate(this):n.generate_latence(this,e)}),$(this).on("mouseout",function(){return n.the_timeout&&clearTimeout(n.the_timeout),$(".my_tooltip").remove()})}),n={the_timeout:!1,generate_latence:function(e,t){return n.the_timeout=setTimeout(n.generate,t,e)},generate:function(e){var t,n,r,i,s,o,u,a;return t=$(document.createElement("div")),t.addClass("my_tooltip"),u=$(document.createElement("div")),u.addClass("tooltip_body"),u.text($(e).attr("tool_tip")),a=$(document.createElement("div")),a.addClass("tooltip_fleche"),t.append(u),t.append(a),$("body").append(t),n=$(e).offset(),n.top-=20,console.log($(e)[0].localName),$(e)[0].localName==="circle"?r=parseInt($(e).attr("r"))+5:r=$(e).outerWidth(),i=n.left-parseInt(t.outerWidth()/2)+r/2,o=n.top-t.outerHeight()-10,s=n.top-t.outerHeight()-2,console.log(r),t.css({left:i,top:o,opacity:0}),t.animate({opacity:1,top:s},500)}}}}).call(this);