module("wysihtml5.dom.getParentElement",{setup:function(){this.container=document.createElement("div")}}),test("Basic test - nodeName only",function(){this.container.innerHTML="<ul><li>foo</li></ul>";var e=this.container.querySelector("li"),t=e.firstChild,n=this.container.querySelector("ul");equal(wysihtml5.dom.getParentElement(e,{nodeName:"LI"}),e),equal(wysihtml5.dom.getParentElement(e,{nodeName:["LI","UL"]}),e),equal(wysihtml5.dom.getParentElement(e,{nodeName:"UL"}),n),equal(wysihtml5.dom.getParentElement(t,{nodeName:"UL"}),n),equal(wysihtml5.dom.getParentElement(e,{nodeName:"ul"}),null),equal(wysihtml5.dom.getParentElement(e,{nodeName:"SPAN"}),null)}),test("Check 'levels' param - nodeName only",function(){this.container.innerHTML="<div><div><ul><li></li></ul></div></div>";var e=this.container.querySelector("li"),t=this.container.querySelector("div").querySelector("div");equal(wysihtml5.dom.getParentElement(e,{nodeName:"DIV"},2),null),equal(wysihtml5.dom.getParentElement(e,{nodeName:"DIV"},3),t)}),test("Basic test - nodeName + className",function(){this.container.innerHTML='<span class="wysiwyg-color-red wysiwyg-color-green">foo</span>';var e=this.container.firstChild,t=this.container.firstChild.firstChild,n;n=wysihtml5.dom.getParentElement(t,{nodeName:"SPAN",className:"wysiwyg-color-green",classRegExp:/wysiwyg-color-[a-z]+/g}),equal(n,e),n=wysihtml5.dom.getParentElement(t,{nodeName:["STRONG","SPAN"],className:"wysiwyg-color-green",classRegExp:/wysiwyg-color-[a-z]+/g}),equal(n,e),n=wysihtml5.dom.getParentElement(t,{nodeName:["STRONG"],className:"wysiwyg-color-green",classRegExp:/wysiwyg-color-[a-z]+/g}),equal(n,null),n=wysihtml5.dom.getParentElement(t,{nodeName:"DIV",className:"wysiwyg-color-green",classRegExp:/wysiwyg-color-[a-z]+/g}),equal(n,null),n=wysihtml5.dom.getParentElement(t,{nodeName:"SPAN",className:"wysiwyg-color-blue",classRegExp:/wysiwyg-color-[a-z]+/g}),equal(n,null),n=wysihtml5.dom.getParentElement(t,{nodeName:"SPAN",className:"wysiwyg-color-red",classRegExp:/wysiwyg-color-[a-z]+/g}),equal(n,null),n=wysihtml5.dom.getParentElement(e,{nodeName:"SPAN",className:"wysiwyg-color-green",classRegExp:/wysiwyg-color-[a-z]+/g}),equal(n,e),n=wysihtml5.dom.getParentElement(e,{nodeName:"span",className:"wysiwyg-color-green",classRegExp:/wysiwyg-color-[a-z]+/g}),equal(n,null)}),test("Check 'levels' param - nodeName + className",function(){this.container.innerHTML='<div class="wysiwyg-color-green"><div class="wysiwyg-color-green"><ul><li></li></ul></blockquote></div></div>';var e=this.container.querySelector("li"),t=this.container.querySelector("div").querySelector("div"),n;n=wysihtml5.dom.getParentElement(e,{nodeName:"DIV",className:"wysiwyg-color-green",classRegExp:/wysiwyg-color-[a-z]+/g},2),equal(n,null),n=wysihtml5.dom.getParentElement(e,{nodeName:"DIV",className:"wysiwyg-color-green",classRegExp:/wysiwyg-color-[a-z]+/g},3),equal(n,t)}),test("Check  - no nodeName",function(){this.container.innerHTML='<div><div class="wysiwyg-text-align-right"><span>foo</span></div></div>';var e=this.container.querySelector("span"),t=this.container.querySelector("div").querySelector("div"),n;n=wysihtml5.dom.getParentElement(e,{className:"wysiwyg-text-align-right",classRegExp:/wysiwyg-text-align-[a-z]+/g}),equal(n,t)}),test("Test - with no nodeName",function(){this.container.innerHTML='<div><div class="wysiwyg-text-align-right"><span>foo</span></div></div>';var e=this.container.querySelector("span"),t=this.container.querySelector("div").querySelector("div"),n;n=wysihtml5.dom.getParentElement(e,{className:"wysiwyg-text-align-right",classRegExp:/wysiwyg-text-align-[a-z]+/g}),equal(n,t)}),test("Test - with only a classRegExp",function(){this.container.innerHTML='<div><div class="wysiwyg-text-align-right"><span>foo</span></div></div>';var e=this.container.querySelector("span"),t=this.container.querySelector("div").querySelector("div"),n;n=wysihtml5.dom.getParentElement(e,{classRegExp:/wysiwyg-text-align-[a-z]+/g}),equal(n,t)});