function post(e,t){var n=queryString.stringify({compilation_level:"SIMPLE_OPTIMIZATIONS",output_format:"text",output_info:"compiled_code",warning_level:"QUIET",js_code:e}),r={host:"closure-compiler.appspot.com",port:"80",path:"/compile",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":n.length}},i=http.request(r,function(e){var n=[];e.setEncoding("utf8"),e.on("data",function(e){n.push(e)}),e.on("end",function(){t(n.join(""))})});i.write(n),i.end()}function readFile(e,t){fs.readFile(e,"utf-8",function(e,n){e&&(console.log("FATAL An error occurred trying to read in the file: "+e),process.exit(-2)),n?t(n):(console.log("No data to post"),process.exit(-1))})}function writeFile(e,t,n){fs.writeFile(e,t,"utf-8",n)}var script=process.argv[2],http=require("http"),queryString=require("querystring"),fs=require("fs");if(!script)throw"No script url given";readFile(script,function(e){post(e,function(e){var t=script.replace(/\.js/,".min.js");writeFile(t,e)})});