(function(){$(document).ready(function(){var e,t,n,r,i,s,o,u;return o={listing:function(){return $(".historique,.add,.help,.stats,.edit,.delete").tool_tip(1e3)},listing_one_tooltip:function(e){return e.tool_tip(1e3)}},o.listing(),i={init:function(){return $(".card h2.title").form_plugin({champ:"titre",titre:"Le titre",element:{type:"input"},button:{"class":"update_titre",text_update:"Modifier le titre"},url_get_infos:["user","produit_autorise"],url_to_update:["user","produit_autorise"]}),$(".card p.description").form_plugin({url_get_infos:["user","produit_autorise"],champ:"description",titre:"La description",element:{type:"textarea"},button:{"class":"update_description",text_update:"Modifier la description"}}),$.ajax({type:"POST",url:"/administration/users/"+$("input.user_id").val()+"/get_all_categorie",format:"json",complete:function(e){var t,n,r,i,s;r=$.parseJSON(e.responseText),n=[],s=[];for(t in r)i=r[t],n.push(i.id),s.push(i.nom);return $(".card li.categorie").form_plugin({url_get_infos:["user","produit_autorise"],champ:"categorie_id",titre:"Catégorie",element:{type:"select",options:{value:n,text:s}},button:{"class":"update_categorie",text_update:"Modifier la catégorie"}})}})},init_one_card:function(e){return $(e).find("h2.title").form_plugin({champ:"titre",titre:"Le titre",element:{type:"input"},button:{"class":"update_titre",text_update:"Modifier le titre"},url_get_infos:["user","produit_autorise"],url_to_update:["user","produit_autorise"]}),$(e).find("p.description").form_plugin({url_get_infos:["user","produit_autorise"],champ:"description",titre:"La description",element:{type:"textarea"},button:{"class":"update_description",text_update:"Modifier la description"}}),$.ajax({type:"POST",url:"/administration/users/"+$("input.user_id").val()+"/get_all_categorie",format:"json",complete:function(t){var n,r,i,s,o;i=$.parseJSON(t.responseText),r=[],o=[];for(n in i)s=i[n],r.push(s.id),o.push(s.nom);return $(e).find("li.categorie").form_plugin({url_get_infos:["user","produit_autorise"],champ:"categorie_id",titre:"Catégorie",element:{type:"select",options:{value:r,text:o}},button:{"class":"update_categorie",text_update:"Modifier la catégorie"}})}})}},i.init(),u={init:function(){return $(".buttons_card li.delete").on("click",function(){var e,t,n;return e=$(this).attr("id").replace("produit_autorise_id_",""),n=$(".user_id").val(),t=this,u.have_confirmation(n,e,t)})},"delete":function(e,t,n){return $.ajax({type:"DELETE",url:"/administration/users/"+e+"/produit_autorises/"+t,format:"json",complete:function(e){var t;return t=$(n).parents("li.card"),t.removeClass("in"),t.css("top","0px"),t.animate({opacity:0,top:"-270px"},{duration:500,complete:function(){return $(this).remove()}})}})},have_confirmation:function(e,t,n){var r,i,s;return window.light_box_declinaison.html_content("<p> Etes vous sur ? </p>"),window.light_box_declinaison.title_header("Confirmation"),s=window.light_box_declinaison.create_annuler(),window.light_box_declinaison.html_footer(s),i=$(document.createElement("span")),i.addClass("button"),r=$(document.createElement("a")),r.text("Oui"),i.append(r),window.light_box_declinaison.append_footer(i),window.light_box_declinaison.show(),i.on("click",function(){return window.light_box_declinaison.hide(),u["delete"](e,t,n)})},event_one_element:function(e){return $(e).on("click",function(){var e,t,n;return e=$(this).attr("id").replace("produit_autorise_id_",""),n=$(".user_id").val(),t=this,t=this,u.have_confirmation(n,e,t)})}},u.init(),n={previous_id:"",exist_deja:!1,actual_step:1,init:function(){return window.lightbox_new_produit_autorise=new window.Lightbox(".new_produit_autorise"),n.form_new_produit_panier()},form_new_produit_panier:function(){var e;return e=new XMLHttpRequest,e.open("GET","/administration/users/"+$(".user_id").val()+"/produit_autorises/new"),e.setRequestHeader("Accept","application/json"),e.send(null),e.onreadystatechange=function(){var t,r,i;if(e.readyState===e.DONE)return t=$(e.responseText).find(".next_step"),i=window.lightbox_new_produit_autorise.create_annuler(),window.lightbox_new_produit_autorise.html_footer(t),window.lightbox_new_produit_autorise.prepend_footer(i),r=$(e.responseText),console.log(r.children(".modal-footer.form-actions").remove()),window.lightbox_new_produit_autorise.title_header("Nouveau produit"),window.lightbox_new_produit_autorise.append_content(r),window.lightbox_new_produit_autorise.css_lightbox({top:"20%"}),n.event()}},upload_form:function(){var e,t,n;return e={},n=new XMLHttpRequest,n.open("POST","/administration/users/"+$(".user_id").val()+"/produit_autorises"),n.setRequestHeader("Accept","application/json"),t=new FormData,$("#new_produit_autorise input, #new_produit_autorise textarea, #new_produit_autorise select").each(function(){var n,r;r=$(this).attr("name");if(e[r]===void 0&&$(this).attr("type")!=="button"&&$(this).attr("type")!=="file")return e[r]=$(this).val(),t.append(r,$(this).val());if($(this).attr("type")==="file")return n=document.querySelector("#"+$(this).attr("id")),t.append(r,n.files[0])}),n.send(t),n.onreadystatechange=function(){var e,t;if(n.readyState===n.DONE)return window.lightbox_new_produit_autorise.hide(),console.log(n.responseText),e=n.responseText,t=$($(e)[0]),t.css({opacity:0,top:"-250px"}),$("ul.cards").prepend(t),u.event_one_element(t.find(".buttons_card li.delete")),s.one_edit_button(t.find(".buttons_card>.edit")),i.init_one_card(t),t.animate({opacity:1,top:"0px"},500)},console.log(e)},event:function(){return $(".buttons>li.add").on("click",function(){return window.lightbox_new_produit_autorise.show()}),$("#new_produit_autorise").bind("ajax:complete",function(e,t){var n,r;return window.lightbox_new_stock.hide(),n=t.responseText,r=$($(n)[0]),r.css({opacity:0,top:"-250px"}),$("ul.cards").prepend(r),supp_stock.event_one_element(r.find(".buttons_card li.delete")),r.animate({opacity:1,top:"0px"},500)}),$(".formulaire_add input,.formulaire_add textarea").on("change",function(){return n.verif_one_input(this)}),$(".next_step").on("click",function(){if(!n["error_step_"+n.actual_step]())return n.upload_form()})},stock_is_depassed:function(){var e,t,n,r;return $("#produit_vente_libre_quantite").val()===""||$("#produit_vente_libre_nombre_pack").val()===""?!1:(t=parseInt($("#produit_vente_libre_quantite").val()),e=parseInt($("#produit_vente_libre_nombre_pack").val()),r=parseInt($("#stock_quantite").val()),n=r-e*t,n>=0?!1:!0)},verif_one_input:function(e){var t;return t=!1,$(e).val()===""?($(e).parents(".control-group").addClass("error"),t=!0):$(e).parents(".control-group").removeClass("error"),t},error_step_1:function(){var e;return e=!1,$(".etape_1 input, .etape_1 textarea").each(function(){if(n.verif_one_input(this))return e=!0}),e&&window.message_information.message_error(".title_3","erreur","Certain champ sont vides",2e3),e}},$("ul.cards").length>0&&n.init(),t={actual_step:1,init:function(){return t.form_new_basket(),t.event()},re_init_form:function(){return t.actual_step=1,$(".etape_1").css("display","block")},upload_form:function(){var n,r,i;return n={},i=new XMLHttpRequest,i.open("POST","/administration/users/"+$(".user_id").val()+"/panier_autorises"),r=new FormData,$("#new_panier_autorise input, #new_panier_autorise textarea, #new_panier_autorise select").each(function(){var e,t;t=$(this).attr("name");if(n[t]===void 0&&$(this).attr("type")!=="button"&&$(this).attr("type")!=="file")return n[t]=$(this).val(),r.append(t,$(this).val());if($(this).attr("type")==="file")return e=document.querySelector("#"+$(this).attr("id")),r.append(t,e.files[0])}),i.send(r),i.onreadystatechange=function(){var n,r;if(i.readyState===i.DONE)return t.re_init_form(),window.lightbox_new_panier_autorise.hide(),console.log(i.responseText),n=i.responseText,r=$($(n)[0]),r.css({opacity:0,top:"-250px"}),s.one_edit_button(r.find(".buttons_card>.edit")),o.listing_one_tooltip(r.find(".buttons_card>.edit")),o.listing_one_tooltip(r.find(".buttons_card>.delete")),e.init_one_card(r),$($(".card_stack")[0]).before(r),t.anim_for_decli_and_product($($(".card_stack")[0])),r.animate({opacity:1,top:"0px"},500)}},anim_for_decli_and_product:function(e){var t,n,r;return n=e.children(".packaging").children(".header").children(".buttons_card").children("li.edit.button"),r=$(""),t=$(""),console.log(t),n.trigger("mouseover"),setTimeout(function(){return n.trigger("mouseout"),n.trigger("click"),setTimeout(function(){return r=e.children(".packaging").children(".footer").children(".main-informations").children("li.product_number"),t=e.children(".packaging").children(".footer").children(".details"),r.tool_tip(200),t.tool_tip(200),r.trigger("mouseover"),t.trigger("mouseover"),r.toggleClass("is-editing-over"),t.toggleClass("is-editing-over"),console.log(t),setTimeout(function(){return r.removeClass("is-editing-over"),t.removeClass("is-editing-over"),r.trigger("mouseout"),t.trigger("mouseout")},3e3)},2e3)},2e3)},event:function(){return $("li.add.button").on("click",function(){return window.lightbox_new_panier_autorise.show()}),$(".next_step").on("click",function(){if(!t["error_step_"+t.actual_step]())return t.next_step()}),$(".previous_step").on("click",function(){return t.previous_step()})},form_new_basket:function(){return window.lightbox_new_panier_autorise=new window.Lightbox(".new_panier_autorise")},verif_one_input:function(e){var t;return t=!1,$(e).val()===""?($(e).parents(".control-group").addClass("error"),t=!0):$(e).parents(".control-group").removeClass("error"),t},error_step_1:function(){var e;return e=!1,$(".etape_1 input, .etape_1 textarea").each(function(){if(t.verif_one_input(this))return e=!0}),e&&window.message_information.message_error(".title_3","erreur","Certain champ sont vides",2e3),e},next_step:function(){var e;return t.actual_step===1?t.upload_form():($(".etape_"+t.actual_step).slideUp(500),$(".title_"+t.actual_step).css("display","none"),form_add_basket.actual_step+=1,$(".etape_"+t.actual_step).slideDown(500),$(".title_"+t.actual_step).css("display","block"),e=$(".navigation>li>.current").parents("li").next().children("span"),$(".navigation>li>.current").removeClass("current"),console.log(e),e.addClass("current"))},previous_step:function(){var e;return $(".etape_"+t.actual_step).slideUp(500),$(".title_"+t.actual_step).css("display","none"),form_add_basket.actual_step-=1,$(".etape_"+t.actual_step).slideDown(500),$(".title_"+t.actual_step).css("display","block"),e=$(".navigation>li>.current").parents("li").prev().children("span"),$(".navigation>li>.current").removeClass("current"),console.log(e),e.addClass("current")}},$(".new_panier_autorise").length>0&&t.init(),r={init:function(){return $("div.card_stack>.packaging h2.title").form_plugin({champ:"titre",element:{type:"input"},button:{"class":"update_titre",text_update:"Modifier le titre"},url_get_infos:["user","panier_autorise"]}),$("div.card_stack>.packaging p.description").form_plugin({champ:"description",element:{type:"input"},button:{"class":"update_description",text_update:"Modifier le description"},url_get_infos:["user","panier_autorise"]}),$.ajax({type:"POST",url:"/administration/users/"+$("input.user_id").val()+"/get_all_categorie",format:"json",complete:function(e){var t,n,r,i,s;r=$.parseJSON(e.responseText),n=[],s=[];for(t in r)i=r[t],n.push(i.id),s.push(i.nom);return $("div.card_stack>.packaging ul.main-informations>li").form_plugin({url_get_infos:["user","panier_autorise"],champ:"categorie_id",titre:"Catégorie",element:{type:"select",options:{value:n,text:s}},button:{"class":"update_categorie",text_update:"Modifier la catégorie"}})}})}},{init_one_card:function(e){return $(e).children(".packaging").find("h2.title").form_plugin({champ:"titre",element:{type:"input"},button:{"class":"update_titre",text_update:"Modifier le titre"},url_get_infos:["user","panier_autorise"]}),$(e).children(".packaging").find("p.description").form_plugin({champ:"description",element:{type:"input"},button:{"class":"update_description",text_update:"Modifier le description"},url_get_infos:["user","panier_autorise"]})}},r.init(),e={panier_id:0,actual_ul_details:$(""),div_list:$(""),div_form:$(""),div_sous_content:$(""),nombre_declinaison_actuel:0,init:function(){return $("div.card_stack>.packaging ul.details").on("click",function(){if($(this).hasClass("is-editing"))return e.actual_ul_details=this,e.generate_box(),e.add_select(),e.panier_id=$(this).parents("div.footer").prevAll("div.informations_card").children(".id_panier_autorise").val(),e.get_panier()})},init_one_card:function(t){return $(t).children(".packaging").find("ul.details").on("click",function(){if($(this).hasClass("is-editing"))return e.actual_ul_details=this,e.generate_box(),e.add_select(),e.panier_id=$(this).parents("div.footer").prevAll("div.informations_card").children(".id_panier").val(),e.get_panier()})},get_panier:function(){var t,n;return t={},n=new XMLHttpRequest,n.open("GET","/administration/users/"+$(".user_id").val()+"/panier_autorises/"+e.panier_id),n.setRequestHeader("Accept","application/json"),n.send(null),n.onreadystatechange=function(){var r,i,s,o;if(n.readyState===n.DONE){t=JSON.parse(n.responseText),console.log(t),i=t.declinaison_panier_autorise.length,o=t.declinaison_panier_autorise;for(r in o)s=o[r],e.div_list.append(e.create_fiche_declinaison(s));return e.nombre_declinaison_actuel=i,$(".header-list>p   ").text(i+" paniers en ligne")}}},li_detail:function(e){var t,n,r,i,s,o,u;r=$(document.createElement("li")),r.addClass("detail"),s=$(document.createElement("span")),s.addClass("label"),s.text(e.label),e.value.element==="span"&&(n=$(document.createElement("span")),n.addClass("number"),n.text(e.value.value));if(e.value.element==="ul"){n=$(document.createElement("ul")),n.addClass("number"),u=e.value.value;for(t in u)o=u[t],i=$(document.createElement("li")),o===e.value.check&&i.addClass("check"),i.text(o),n.append(i)}return r.append(s),r.append(n),r.css("width","128px"),r},create_fiche_declinaison:function(t){var n,r,i,s,o,u,a;return i=$(document.createElement("div")),i.addClass("raw"),a=$(document.createElement("ul")),a.addClass("details"),o=e.li_detail({label:"Format",value:{element:"ul",value:[2,4,6],check:parseInt(t.nombre_personne)}}),s=e.li_detail({label:"Duree",value:{element:"ul",value:[3,6,9],check:parseInt(t.duree)}}),u=e.li_detail({label:"Prix",value:{element:"span",value:t.prix_panier_ht}}),a.append(o),a.append(s),a.append(u),r=$(document.createElement("div")),r.addClass("close_square declinaison_panier_"+t.id),r.on("click",function(){return e.supp_declinaison(t,i)}),n=$(document.createElement("div")),n.addClass("clear"),i.append(a),i.append(r),i.append(n),i},generate_box:function(){var t;return window.light_box_declinaison=new window.Lightbox(".lightbox_declinaison"),window.light_box_declinaison.html_content(""),e.div_sous_content=$(document.createElement("div")),e.div_sous_content.addClass("sous_content"),e.div_sous_content.append(e.header_list()),e.div_list=$(document.createElement("div")),e.div_list.addClass("embosed-list basket-details"),e.div_sous_content.append(e.div_list),window.light_box_declinaison.append_content(e.div_sous_content),window.light_box_declinaison.title_header("titre"),t=window.light_box_declinaison.create_annuler(),window.light_box_declinaison.html_footer(t),window.light_box_declinaison.show()},header_list:function(){var t,n,r,i,s,o;return r=$(document.createElement("div")),r.addClass("header-list"),i=$(document.createElement("p")),i.text("18 déclinaisons"),s=$(document.createElement("span")),s.addClass("button new-declinaision button_declinaion"),t=$(document.createElement("a")),t.text("nouvelle déclinaison"),s.append(t),t.on("click",function(){return e.animate_for_form(1e3)}),o=$(document.createElement("span")),o.addClass("back-declinaison button_declinaion"),o.text("retour"),o.on("click",function(){return e.animate_for_tab(1e3)}),n=$(document.createElement("div")),n.addClass("clear"),r.append(i),r.append(s),r.append(o),r.append(n),r},animate_for_tab:function(t){return e.div_sous_content.animate({"margin-left":"0px"},t)},animate_for_form:function(t){return e.div_sous_content.animate({"margin-left":"-600px"},t)},add_select:function(){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;r=$(document.createElement("div")),r.addClass("form_add_decli"),r.css("float","right"),r.css("display","block"),v=$(document.createElement("p")),a=$(document.createElement("label")),a.text("Nombre de personne : "),b=$(document.createElement("select")),b.attr("name","declinaison_panier_autorise[nombre_personne]"),p=[2,4,6],i=0;while(p.length>i)c=$(document.createElement("option")),c.val(p[i]),c.text(p[i]),b.append(c),i++;v.append(a),v.append(b),d=$(document.createElement("p")),u=$(document.createElement("label")),u.text("Duree (mois) : "),y=$(document.createElement("select")),y.attr("name","declinaison_panier[duree]"),h=[3,6,9],i=0;while(h.length>i)c=$(document.createElement("option")),c.val(h[i]),c.text(h[i]),y.append(c),i++;return d.append(u),d.append(y),m=$(document.createElement("p")),f=$(document.createElement("label")),f.text("Prix unite ht: "),s=$(document.createElement("input")),s.attr("name","declinaison_panier[prix_panier_ht]"),m.append(f),m.append(s),g=$(document.createElement("p")),l=$(document.createElement("label")),l.text("Prix unite ttc: "),o=$(document.createElement("input")),o.attr("name","declinaison_panier[prix_panier_ttc]"),g.append(l),g.append(o),n=$(document.createElement("div")),n.addClass("clear"),w=$(document.createElement("span")),t=$(document.createElement("a")),t.text("Ajoutez"),w.addClass("button"),t.on("click",function(){var t;return t={nombre_personne:b.val(),duree:y.val(),prix_panier_ht:s.val(),prix_panier_ttc:o.val()},e.add_declinaison(t)}),w.append(t),r.append(v),r.append(d),r.append(m),r.append(g),r.append(w),e.div_form=r,e.div_sous_content.prepend(r)},add_declinaison:function(t){var n,r;return r=new XMLHttpRequest,r.open("POST","/administration/users/"+$(".user_id").val()+"/panier_autorises/create_declinaison"),r.setRequestHeader("Accept","application/json"),n=new FormData,n.append("panier[id]",e.panier_id),n.append("declinaison_panier_autorise[nombre_personne]",t.nombre_personne),n.append("declinaison_panier_autorise[duree]",t.duree),n.append("declinaison_panier_autorise[prix_panier_ht]",t.prix_panier_ht),n.append("declinaison_panier_autorise[prix_panier_ttc]",t.prix_panier_ttc),r.send(n),r.onreadystatechange=function(){var t;if(r.readyState===r.DONE)return console.log(r.responseText),t=JSON.parse(r.responseText),t.status==="error"?window.message_information.message_error(".lightbox_wrapper .header","erreur",t.error,5e3):($(".header-list>p   ").text(e.nombre_declinaison_actuel+" declinaisons"),e.animate_for_tab(1e3),e.div_list.append(e.create_fiche_declinaison(t.declinaison_panier_autorise)),e.modify_card())}},have_confirmation:function(t,n){var r,i,s,o;return i=new window.Lightbox(".lightbox_confirmation"),i.html_content("<p> Etes vous sur ? </p>"),i.title_header("Confirmation"),o=i.create_annuler(),i.html_footer(o),s=$(document.createElement("span")),s.addClass("button"),r=$(document.createElement("a")),r.text("Oui"),s.append(r),i.append_footer(s),i.show(),s.on("click",function(){return i.hide(),e.supp_declinaison(t,n)})},supp_declinaison:function(t,n){var r;return console.log(t),r=new XMLHttpRequest,r.open("DELETE","/administration/users/"+$(".user_id").val()+"/panier_autorises/supp_declinaison/"+t.id),r.setRequestHeader("Accept","application/json"),r.send(null),r.onreadystatechange=function(){var i;if(r.readyState===r.DONE)return i=JSON.parse(r.responseText),i.status==="error"?window.message_information.message_error(".lightbox_wrapper .header","erreur",i.error,5e3):(e.nombre_declinaison_actuel-=t.nb_pack,$(".header-list>p   ").text(e.nombre_declinaison_actuel+" declinaisons"),n.animate({left:"500px"},{duration:500,complete:function(){return $(this).remove(),e.modify_card()}}))}},modify_card:function(){var t,n;return t={},n=new XMLHttpRequest,n.open("GET","/administration/users/"+$(".user_id").val()+"/panier_autorises/"+e.panier_id),n.setRequestHeader("Accept","application/json"),n.send(null),n.onreadystatechange=function(){var r,i,s,o;if(n.readyState===n.DONE){t=JSON.parse(n.responseText),console.log(t),$(e.actual_ul_details).children(".detail_format").children(".number").children("li").removeClass("check"),$(e.actual_ul_details).children(".detail_duree").children(".number").children("li").removeClass("check"),s=t.declinaison_panier_autorise,o=[];for(r in s)i=s[r],$(e.actual_ul_details).children(".detail_format").children(".number").children("li").each(function(){if(parseInt(i.nombre_personne)===parseInt($(this).text()))return $(this).addClass("check")}),o.push($(e.actual_ul_details).children(".detail_duree").children(".number").children("li").each(function(){if(parseInt(i.duree)===parseInt($(this).text()))return $(this).addClass("check")}));return o}}}},e.init(),s={init:function(){return s.edit_button(),s.help_button(),s.event_close()},heigth_help_div:"0px",event_close:function(){return $(".helper>.close").on("click",function(){return s.close_help(".buttons>li.help")})},stats_button:function(){if($(".buttons>li.stats").length>0)return $(".buttons>li.stats").on("click",function(){return $(this).hasClass("button_active")?($(this).removeClass("button_active"),window.statisitques.hide(),window.statisitques.clear_stats()):($(this).addClass("button_active"),window.statisitques.show(),window.statisitques.init())})},help_button:function(){if($(".buttons>li.help").length>0)return s.heigth_help_div=$(".helper").css("height"),$(".buttons>li.help").on("click",function(){return $(this).hasClass("button_active")?s.close_help(this):s.show_help(this)})},close_help:function(e){return $(e).removeClass("button_active"),$(".helper").animate({opacity:0},{duration:500,complete:function(){return $(this).slideUp(500,function(){return $(this).addClass("helper_close")})}})},show_help:function(e){return $(e).addClass("button_active"),$(".helper").removeClass("helper_close"),$(".helper").slideDown(500,function(){return $(this).animate({opacity:1},{duration:500})})},one_edit_button:function(e){$(".buttons>li.edit").length>0&&$(".buttons>li.edit").on("click",function(){return $(this).hasClass("button_active")?($(this).removeClass("button_active"),s.remove_editing_class()):($(this).addClass("button_active"),s.add_editing_class())});if($(".buttons_card").length>0)return $(e).on("click",function(){if($(this).hasClass("button_active")){$(this).removeClass("button_active"),$(".cards").length>0&&s.remove_editing_class($(this).parents("li.card"));if($(".card_stack").length>0)return s.remove_editing_class($(this).parents("div.card_stack"))}else{$(this).addClass("button_active"),$(".cards").length>0&&s.add_editing_class($(this).parents("li.card"));if($(".card_stack").length>0)return s.add_editing_class($(this).parents("div.card_stack"))}})},edit_button:function(){$(".buttons>li.edit").length>0&&$(".buttons>li.edit").on("click",function(){return $(this).hasClass("button_active")?($(this).removeClass("button_active"),s.remove_editing_class()):($(this).addClass("button_active"),s.add_editing_class())});if($(".buttons_card").length>0)return $(".buttons_card>.edit").on("click",function(){if($(this).hasClass("button_active")){$(this).removeClass("button_active"),$(".cards").length>0&&s.remove_editing_class($(this).parents("li.card"));if($(".card_stack").length>0)return s.remove_editing_class($(this).parents("div.card_stack"))}else{$(this).addClass("button_active"),$(".cards").length>0&&s.add_editing_class($(this).parents("li.card"));if($(".card_stack").length>0)return s.add_editing_class($(this).parents("div.card_stack"))}})},remove_editing_class:function(e){e==null&&(e="body"),$(".user_profile").length>0&&($(".user_profile>.content>p").removeClass("is-editing"),$(".user_profile>.pictures>div").removeClass("is-editing")),$(".cards").length>0&&($(e).children(".right_area").children(".header").children(".title").removeClass("is-editing"),$(e).children(".right_area").children(".body").children(".description").removeClass("is-editing"),$(e).children(".right_area").children(".footer").children("ul").children("li").removeClass("is-editing"),$(e).children(".left_area").children(".has_corners_shadow").removeClass("is-editing"),$(e).children(".left_area").children(".picture").removeClass("is-editing"));if($(".card_stack").length>0)return $(e).children(".packaging").children(".header").children(".title").removeClass("is-editing"),$(e).children(".packaging").children(".body").children(".description").removeClass("is-editing"),$(e).children(".packaging").children(".footer").children("ul").removeClass("is-editing"),$(e).children(".packaging").children(".footer").children("ul.details").removeClass("is-editing"),$(e).children(".packaging").children(".footer").children("ul.main-informations").children("li").removeClass("is-editing")},add_editing_class:function(e){e==null&&(e="body"),$(".user_profile").length>0&&($(".user_profile>.content>p").addClass("is-editing"),$(".user_profile>.pictures>ul>li>div.is_small").addClass("is-editing")),$(".cards").length>0&&(console.log($(e).children(".rigth_area")),$(e).children(".right_area").children(".header").children(".title").addClass("is-editing"),$(e).children(".right_area").children(".body").children(".description").addClass("is-editing"),$(e).children(".right_area").children(".footer").children("ul").children("li").addClass("is-editing"),$(e).children(".left_area").children(".has_corners_shadow").addClass("is-editing"),$(e).children(".left_area").children(".picture").addClass("is-editing"));if($(".card_stack").length>0)return $(e).children(".packaging").children(".header").children("span").children(".title").addClass("is-editing"),$(e).children(".packaging").children(".body").children("span").children(".description").addClass("is-editing"),$(e).children(".packaging").children(".footer").children("ul.details").addClass("is-editing"),$(e).children(".packaging").children(".footer").children("ul.main-informations").children("li").addClass("is-editing")}},s.init()})}).call(this);