(function(){window.AA.CheckboxToggler=AA.CheckboxToggler=function(){function e(e,t){var n;this.options=e,this.container=t,n={},this.options=$.extend({},n,e),this._init(),this._bind()}return e.prototype._init=function(){if(!this.container)throw new Error("Container element not found");this.$container=$(this.container);if(!this.$container.find(".toggle_all").length)throw new Error("'toggle all' checkbox not found");return this.toggle_all_checkbox=this.$container.find(".toggle_all"),this.checkboxes=this.$container.find(":checkbox").not(this.toggle_all_checkbox)},e.prototype._bind=function(){var e=this;return this.checkboxes.bind("change",function(t){return e._didChangeCheckbox(t.target)}),this.toggle_all_checkbox.bind("change",function(t){return e._didChangeToggleAllCheckbox()})},e.prototype._didChangeCheckbox=function(e){if(this.checkboxes.filter(":checked").length===this.checkboxes.length-1)return this._uncheckToggleAllCheckbox();if(this.checkboxes.filter(":checked").length===this.checkboxes.length)return this._checkToggleAllCheckbox()},e.prototype._didChangeToggleAllCheckbox=function(){return this.toggle_all_checkbox.attr("checked")==="checked"?this._checkAllCheckboxes():this._uncheckAllCheckboxes()},e.prototype._uncheckToggleAllCheckbox=function(){return this.toggle_all_checkbox.removeAttr("checked")},e.prototype._checkToggleAllCheckbox=function(){return this.toggle_all_checkbox.attr("checked","checked")},e.prototype._uncheckAllCheckboxes=function(){var e=this;return this.checkboxes.each(function(t,n){return $(n).removeAttr("checked"),e._didChangeCheckbox(n)})},e.prototype._checkAllCheckboxes=function(){var e=this;return this.checkboxes.each(function(t,n){return $(n).attr("checked","checked"),e._didChangeCheckbox(n)})},e}(),function(e){return e.widget.bridge("checkboxToggler",AA.CheckboxToggler)}(jQuery)}).call(this);